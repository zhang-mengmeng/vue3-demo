import{d as V,r as x,a as c,o as h,c as k,b as o,w as t,u as v,e as n,f,g as p,E as C,_ as N}from"./index-CSmAIVf7.js";const B={class:"login"},E=V({__name:"login",setup(I){const m=v(),i=x(),s=c({username:"",password:""}),_=c({username:[{required:!0,message:"请输入用户名称",trigger:"blur"}],password:[{required:!0,message:"请输入用户密码",trigger:"blur"}]}),g=()=>{var a;(a=i.value)==null||a.validate(e=>{e&&fetch("http://localhost:3000/user/login",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(s)}).then(l=>l.json()).then(l=>{l.code==200&&(C.success(l.msg),localStorage.setItem("token",l.token),m.push({path:"/index"}))})})},b=()=>{m.push({name:"Register"})};return(a,e)=>{const l=n("el-input"),r=n("el-form-item"),d=n("el-button"),w=n("el-form"),y=n("el-card");return h(),k("div",B,[o(y,null,{header:t(()=>e[2]||(e[2]=[f("div",{class:"card-header"},[f("span",null,"用户登录")],-1)])),default:t(()=>[o(w,{ref_key:"from",ref:i,rules:_,model:s,class:"demo-form-inline"},{default:t(()=>[o(r,{label:"用户名称",prop:"username"},{default:t(()=>[o(l,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"请输入用户名称",clearable:""},null,8,["modelValue"])]),_:1}),o(r,{label:"用户密码",prop:"password"},{default:t(()=>[o(l,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),"show-password":"",placeholder:"请输入用户密码",clearable:""},null,8,["modelValue"])]),_:1}),o(r,null,{default:t(()=>[o(d,{type:"primary",onClick:g,style:{width:"100%"}},{default:t(()=>e[3]||(e[3]=[p("登录")])),_:1})]),_:1}),o(r,null,{default:t(()=>[o(d,{type:"text",onClick:b},{default:t(()=>e[4]||(e[4]=[p("用户注册")])),_:1}),o(d,{type:"text"},{default:t(()=>e[5]||(e[5]=[p("忘记密码")])),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}}),q=N(E,[["__scopeId","data-v-d6109e9c"]]);export{q as default};
